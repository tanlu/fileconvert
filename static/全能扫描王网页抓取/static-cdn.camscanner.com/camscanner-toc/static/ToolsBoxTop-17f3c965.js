import{c as r,t as p,bc as N,bj as A,bk as D,bl as E,bm as B,bn as I,Z as L}from"./header-9cdc9e16.js";import{Y as P}from"./layout-9f15c196.js";import{u as R}from"./user-store-a4f4557a.js";import{d as v,_ as y,r as f,o as l,z as U,l as h,a as e,c as a,t as i,w as k,A as z,n as g,F as $,f as b,k as m,v as F,q as j,s as q}from"./vendor-f6f18e65.js";import{n as G}from"./mainTopSetting-c285896d.js";const u="toolconvert",M=v({components:{},props:{sid:{type:String,default:""},downloadType:{type:String,default:""},eid:{type:String,default:""},fileName:{type:String,default:""},dialogVisible:{type:Boolean,default:!1}},data(){return{token:"",emailAccount:""}},computed:{},methods:{closeDialog(){this.$emit("update:dialogVisible",!1)},sendEmail(){const o=this;if(!N().test(this.emailAccount)){r.emit("toast",{msg:this.$t("web_3_tool_emailerror")});return}P(this.token,o.eid,o.fileName,o.sid,o.downloadType,"web",this.emailAccount).then(d=>{d.ret===0?(o.closeDialog(),r.emit("toast",{msg:this.$t("web_3_tool_emailshare_success"),type:"success"}),p(u,"tool_success_email","success")):(r.emit("toast",{msg:this.$t("web_3_tool_emailshare_failed")}),p(u,"tool_success_email","failed"))}).catch(d=>{throw r.emit("toast",{msg:this.$t("web_3_tool_emailshare_failed")}),p(u,"tool_success_email","failed"),d})}},created(){this.token=R().token,this.$emit("update:fileName",this.fileName.substring(0,this.fileName.lastIndexOf(".")))},mounted(){}});const O={class:"share-title"},Y={key:0,src:A,alt:""},Z={key:1,src:D,alt:""},H={key:2,src:E,alt:""},J={key:3,src:B,alt:""},K={key:4,src:I,alt:""},Q=["placeholder"],W={class:"share-desc"};function X(o,s,d,T,S,V){const _=f("el-dialog");return l(),U(_,{class:"share-dialog",title:o.$t("web_3_tool_email"),modelValue:o.dialogVisible,"onUpdate:modelValue":s[2]||(s[2]=n=>o.dialogVisible=n),"before-close":o.closeDialog},{default:h(()=>[e("div",O,[o.downloadType==="101"?(l(),a("img",Y)):o.downloadType==="102"?(l(),a("img",Z)):o.downloadType==="103"?(l(),a("img",H)):o.downloadType==="104"?(l(),a("img",J)):(l(),a("img",K)),e("span",null,i(o.fileName),1)]),k(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>o.emailAccount=n),placeholder:o.$t("web_3_register_emailinput")},null,8,Q),[[z,o.emailAccount]]),e("p",W,i(o.$t("web_3_tool_email_linkvaild",[o.token?"7":"3"])),1),e("div",{slot:"footer",onClick:s[1]||(s[1]=(...n)=>o.sendEmail&&o.sendEmail(...n)),class:"dialog-footer"},[e("span",null,i(o.$t("web_3_tool_email_sendbtn")),1)])]),_:1},8,["title","modelValue","before-close"])}const go=y(M,[["render",X],["__scopeId","data-v-48e004d0"]]),x=v({components:{mainTopSetting:G},data(){return{topTools:!1}},computed:{toolsList(){return L(this)}},methods:{handlerTools(o){this.topTools=!this.topTools,o.stopPropagation()}},created(){const o=this;document.addEventListener("click",function(){o.topTools=!1},!1)},mounted(){}});const w=o=>(j("data-v-c5f49d55"),o=o(),q(),o),oo={class:"main_top_btns"},eo=w(()=>e("span",{class:"icon icon_toolsbox"},null,-1)),so={class:"tools_text"},to=w(()=>e("span",{class:"icon icon_toolbox_arrow"},null,-1)),lo={class:"tools_box"},ao={class:"tools_type"},io=["src"],no={class:"tools_type"},_o=["src"],ro={class:"mask1"};function co(o,s,d,T,S,V){const _=f("router-link"),n=f("mainTopSetting");return l(),a("div",null,[e("div",{class:g(["main_top_wrap",o.topTools?"wrap_mask":""])},[e("div",null,[e("div",oo,[e("div",{class:"btn_gray",onClick:s[0]||(s[0]=t=>o.handlerTools(t))},[eo,e("span",so,i(o.$t("web_3_alltool")),1),to])]),e("div",{class:g(["tools_wrap",o.topTools?"":"tools_wrap_close"]),onClick:s[3]||(s[3]=t=>t.stopPropagation())},[e("div",lo,[e("div",ao,[e("h4",null,i(o.$t("web_3_tooltype_format")),1),e("ul",null,[(l(!0),a($,null,b(o.toolsList.convert,(t,c)=>(l(),a("li",{key:c},[m(_,{onClick:s[1]||(s[1]=C=>o.topTools=!1),to:t.routePath},{default:h(()=>[e("img",{src:t.icon,alt:""},null,8,io),e("span",null,i(t.title),1)]),_:2},1032,["to"])]))),128))])]),e("div",no,[e("h4",null,i(o.$t("web_3_tooltype_doc")),1),e("ul",null,[(l(!0),a($,null,b(o.toolsList.handle,(t,c)=>(l(),a("li",{key:c},[m(_,{onClick:s[2]||(s[2]=C=>o.topTools=!1),to:t.routePath},{default:h(()=>[e("img",{src:t.icon,alt:""},null,8,_o),e("span",null,i(t.title),1)]),_:2},1032,["to"])]))),128))])])])],2)]),m(n)],2),k(e("div",ro,null,512),[[F,o.topTools]])])}const $o=y(x,[["render",co],["__scopeId","data-v-c5f49d55"]]);export{go as e,$o as t};
