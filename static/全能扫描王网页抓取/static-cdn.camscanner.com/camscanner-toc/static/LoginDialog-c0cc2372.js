import _ from"./LoginPage-b10c991b.js";import p from"./RegisterPage-33145d70.js";import{t as a}from"./header-9cdc9e16.js";import{d as f,_ as u,r as c,o as y,c as D,a as i,w as l,v as g,k as r,g as C}from"./vendor-f6f18e65.js";const w=f({name:"loginDialog",components:{login:_,register:p},props:{show_close:{type:Boolean,default:()=>!0},TAG:{type:String,default:""}},data(){return{currentStep:"login",showDialog:!1}},created(){},watch:{currentStep(e){this.$nextTick(()=>{const o=document.getElementsByClassName("dialog-bg")[0];if(e==="login"){const t=document.getElementsByClassName("login_box")[0];o.style.height=t.offsetHeight+"px"}else{const t=document.getElementsByClassName("register_main")[0];this.TAG&&a(this.TAG,"signin_show","log_up_success"),o.style.height=t.offsetHeight+"px"}})}},methods:{openDialog(){this.showDialog=!0,this.TAG&&a(this.TAG,"signin_show","log_in_success")},closeDialog(){this.showDialog=!1},checkRegister(){this.currentStep="register"},checkLogin(){this.currentStep="login"}},mounted(){if(!this.showDialog)return;const e=this.$refs.login,o=this.$refs.register;this.$watch(function(){return e.loginStep},t=>{const n=document.getElementsByClassName("dialog-bg")[0];if(t==="step_first"){const s=document.getElementsByClassName("login_box")[0];n.style.height=s.offsetHeight+"px"}else if(t==="step_email_login"){const s=document.getElementsByClassName("step_email_login")[0];n.style.height=s.offsetHeight+"px"}else if(t==="step_scan_login"){const s=document.getElementsByClassName("step_scan_login")[0];n.style.height=s.offsetHeight+"px"}}),this.$watch(function(){return o.currentTab},()=>{const t=document.getElementsByClassName("dialog-bg")[0];t.style.height=document.getElementsByClassName("register_main")[0].offsetHeight+"px"}),this.$watch(function(){return o.loginStep},t=>{if(t==="step_email"){const n=document.getElementsByClassName("dialog-bg")[0],s=document.getElementsByClassName("step_email")[0];n.style.height=s.offsetHeight+"px",s.style.top="0px"}})}});const k={key:0,class:"dialog-login"},B={class:"dialog-bg"},N={class:"dialog-content"};function E(e,o,t,n,s,v){const m=c("login"),h=c("register");return e.showDialog?(y(),D("div",k,[i("div",B,[l(i("i",{class:"close icon-ic_tag_rename_cancel",onClick:o[0]||(o[0]=(...d)=>e.closeDialog&&e.closeDialog(...d))},null,512),[[g,e.show_close]]),i("div",N,[l(r(m,{ref:"login",onCheckRegister:e.checkRegister,type:"dialog"},null,8,["onCheckRegister"]),[[g,e.currentStep==="login"]]),l(r(h,{ref:"register",onCheckLogin:e.checkLogin,type:"dialog"},null,8,["onCheckLogin"]),[[g,e.currentStep==="register"]])])])])):C("",!0)}const H=u(w,[["render",E],["__scopeId","data-v-88f02fdd"]]);export{H as l};
