import{d as y,_ as b,o as d,c as r,a as s,j as A,g as h,B,r as f,p as U,t,w as D,v as N,A as J,E as q,k as p,l as $,n as z,F as k,q as T,s as L}from"./vendor-f6f18e65.js";import{c,s as v,t as m,h as E,i as H,d as K,bq as j,br as G}from"./header-9cdc9e16.js";import{r as M,$ as Q,a0 as W}from"./layout-9f15c196.js";import{F as C}from"./libs-250e5f01.js";import{e as X}from"./ToolsBoxTop-17f3c965.js";import{l as Y}from"./LoginDialog-c0cc2372.js";import{u as Z}from"./user-store-a4f4557a.js";const x=y({props:["show","percent"]});const ee={key:0,class:"progress_bar"};function se(e,o,n,a,l,S){return e.show?(d(),r("div",ee,[s("div",{class:"progress_current",style:A({width:e.percent+"%"})},null,4)])):h("",!0)}const He=b(x,[["render",se],["__scopeId","data-v-1e1d3c31"]]),w="toolconvert",oe=y({components:{emailDialog:X,dirStructure:M,loginDialog:Y},props:{sid:{type:String,default:""},downloadType:{type:String,default:""},fileName:{type:String,default:""},downloadLink:{type:String,default:""},eid:{type:String,default:""},type:{type:String,default:""},step:{type:String,default:"finish"}},data(){return{showDirDialog:!1,dirId:"",showDrop:!1,newFileName:"",dialogVisible:!1,isEdit:!1,emailAccount:"",token:"",hasOpenShow:!1,otherHandler:["wordtopdf","exceltopdf","ppttopdf"],handlerPdf:["wordtopdf","exceltopdf","ppttopdf","pictopdf","mergepdf","extractpdfpages","rearrangepdfpages","rotatepdf","deletepagesfrompdf"],pdfToOther:["pdftoword","pdftoexcel","pdftoppt"],newdownloadLink:"",toastText:"",toastType:"",toastShow:!1,toastDesc:"",fileNameTxt:this.$props.fileName,parentDocid:this.$parent.docId,routeName:""}},mounted(){const e=this;document.addEventListener("click",function(){e.showDrop=!1}),c.on("downloadConvertSuccess",()=>{e.download(!0)})},beforeUnmount(){c.off("downloadConvertSuccess")},computed:{successPdfandJpg(){return["wordtopdf","ppttopdf","exceltopdf","pdftopic","pictopdf","mergepdf","extractpdfpages","deletepagesfrompdf","rearrangepdfpages","rotatepdf"]}},created(){this.token=Z().token,this.routeName=this.$route.name||"",this.handlerPdf.includes(this.$route.name)&&(this.hasOpenShow=!0),this.fileName.lastIndexOf(".")===-1?this.$emit("update:fileName",this.fileName):this.$emit("update:fileName",this.fileName.substring(0,this.fileName.lastIndexOf("."))),this.newdownloadLink=this.downloadLink},methods:{showDialog(){this.token?this.showDirDialog=!0:this.$refs.loginDialog.openDialog()},saveTo(e){const o=this;let n=[];const a=o.$parent;this.otherHandler.includes(this.$route.name)?n=["10000_add_"+this.$route.meta.convertType+"_"+a.sid]:a.fileId?n=[a.fileId]:a.fileIds&&(n=a.fileIds),c.emit("toast",{msg:o.$t("web_3_saving"),type:"progress",closeTimeout:"",desc:"",total:1,current:0}),Q(o.token,o.fileName,o.token+"_"+new Date().getTime(),n,e.id).then(l=>{l.error_code===0?(c.emit("toast",{msg:o.$t("cs_save_share_ok"),type:"success"}),o.showDirDialog=!1):c.emit("toast",{msg:o.$t("web_3_savefailed")})}).catch(l=>{throw c.emit("toast",{msg:o.$t("web_3_savefailed")}),l})},checkDrop(e){this.showDrop=!this.showDrop,e.stopPropagation()},initData(){v("hasReturn",2,new Date().getTime()+36e3),window.location.reload()},clickRecommend(e){v("toolsSuccessRouter",JSON.stringify({oldVal:this.$route.name,newVal:e}),new Date().getTime()+36e3),this.$emit("update:step","finish"),this.newdownloadLink=encodeURIComponent(this.newdownloadLink),v("toolsSuccess",JSON.stringify(this.$props),new Date().getTime()+36e3),this.$router.push({name:e})},emailShare(){this.dialogVisible=!0,this.emailAccount=""},editFileName(){const e=this;this.newFileName=this.fileName,e.isEdit=!0,e.$nextTick(()=>{e.$refs.inputFileName.select()})},cancelEdit(){this.newFileName="",this.isEdit=!1},download(e=!1){m(w,"tool_success_download","success");const o=this,n=new Date().getTime();o.sid&&o.downloadType&&(C.log("toolsDownload",o.newdownloadLink+"&t="+n),E()&&window.desktopVersion&&H(window.desktopVersion,"1.0.2")>0&&!e?window.ipcRenderer.send("open-savePath","convertSuccess",o.fileName):window.location.href=this.newdownloadLink+"&t="+n)},openShow(){m(w,"tool_success_download","success");const e=this,o=new Date().getTime();e.sid&&e.downloadType&&(C.log("toolsDownload",this.newdownloadLink+"&t="+o),window.open(this.newdownloadLink+"&t="+o+"&disposition=inline"))},finishEdit(){const e=this;if(!K(this.newFileName))return this.showToast(e.$t("web_3_rename_special")),!1;const n=this.newFileName;n!==e.fileName&&(this.$emit("update:fileName",n),this.fileNameTxt=this.newFileName,W(e.token,n,e.sid,e.downloadType)),e.isEdit=!1},showToast(e,o,n,a){const l=this;e&&(l.toastText=e,l.toastType=o||"",a&&(l.toastDesc=a),l.toastShow=!0,o!=="progress"&&setTimeout(()=>{l.toastShow=!1,l.toastType="",l.toastText=l.toastDesc=""},n||2e3))},async copySuccess(){const{toClipboard:e}=B();try{await e(this.newdownloadLink),this.$emit("copySuccess"),m(w,"tool_success_link","success"),c.emit("toast",{msg:this.$t("web_3_tool_linktip",[this.token?7:3]),type:"success"})}catch(o){m(w,"tool_success_link","failed"),c.emit("toast",{msg:this.$t("web_3_tool_copy_failed"),type:"false"})}}}});const _=e=>(T("data-v-0c587215"),e=e(),L(),e),te={class:"upload_finish_wrap"},ie={class:"upload_finish_body"},ne={class:"success-info"},le={class:"finish_title"},ae={class:"file_name"},de=_(()=>s("img",{class:"ic_toolbox_doc",src:G},null,-1)),re={key:1,class:"edit-save"},pe={class:"btn_box"},ce={key:0,class:"drop_list"},fe={class:"other_func_wrap"},_e=_(()=>s("span",{class:"icon-ic_toolbox_link"},null,-1)),ue=_(()=>s("span",{class:"icon-ic_toolbox_word"},null,-1)),he=_(()=>s("span",{class:"icon-ic_toolbox_excel"},null,-1)),me=_(()=>s("span",{class:"icon-ic_toolbox_merge"},null,-1)),we=_(()=>s("span",{class:"icon-ic_toolbox_extract"},null,-1));function ge(e,o,n,a,l,S){const F=f("Check"),g=f("el-icon"),I=f("Close"),V=f("CaretBottom"),R=f("emailDialog"),O=f("loginDialog"),P=f("dirStructure");return d(),r("div",te,[s("div",ie,[s("div",ne,[s("div",le,[U(t(e.$t("web_3_tool_convert_success",[e.type]))+" ",1),s("span",{onClick:o[0]||(o[0]=(...i)=>e.initData&&e.initData(...i))},t(e.$t("web_3_tool_restart")),1)]),s("div",ae,[de,D(s("span",{class:"file_name_text"},t(e.fileNameTxt),513),[[N,!e.isEdit]]),D(s("input",{class:"input_file_name","onUpdate:modelValue":o[1]||(o[1]=i=>e.newFileName=i),ref:"inputFileName",onKeyup:o[2]||(o[2]=q((...i)=>e.finishEdit&&e.finishEdit(...i),["enter"]))},null,544),[[J,e.newFileName],[N,e.isEdit]]),e.isEdit?(d(),r("div",re,[p(g,{onClick:e.finishEdit,class:"el-icon-check"},{default:$(()=>[p(F)]),_:1},8,["onClick"]),p(g,{onClick:e.cancelEdit},{default:$(()=>[p(I)]),_:1},8,["onClick"])])):(d(),r("img",{key:0,class:"ic_remarks",src:j,onClick:o[3]||(o[3]=(...i)=>e.editFileName&&e.editFileName(...i))}))])]),s("div",pe,[e.successPdfandJpg.includes(e.routeName)&&!e.parentDocid?(d(),r("div",{key:0,class:z(["save_btn",e.showDrop?"drop_show":""])},[s("span",{onClick:o[4]||(o[4]=(...i)=>e.showDialog&&e.showDialog(...i))},t(e.$t("web_421_tool_save_cs")),1),p(g,{onClick:e.checkDrop},{default:$(()=>[p(V)]),_:1},8,["onClick"]),e.showDrop?(d(),r("div",ce,[s("p",{onClick:o[5]||(o[5]=i=>e.download(!1))},t(e.$t("web_421_tool_download_pc")),1),s("p",{onClick:o[6]||(o[6]=(...i)=>e.showDialog&&e.showDialog(...i))},t(e.$t("web_3_tool_savecs")),1)])):h("",!0)],2)):(d(),r(k,{key:1},[e.hasOpenShow?(d(),r("div",{key:0,class:"btn_green download_btn btn_view",onClick:o[7]||(o[7]=(...i)=>e.openShow&&e.openShow(...i))},[s("span",null,t(e.$t("web_3_tool_view")),1)])):h("",!0),s("div",{class:"btn_green download_btn btn_down",onClick:o[8]||(o[8]=i=>e.download(!1))},[s("span",null,t(e.$t("web_3_download")),1)])],64))])]),s("div",fe,[h("",!0),s("div",{class:"func_btn",onClick:o[10]||(o[10]=(...i)=>e.copySuccess&&e.copySuccess(...i))},[_e,s("span",null,t(e.$t("web_3_tool_link")),1)]),e.handlerPdf.includes(e.routeName)?(d(),r(k,{key:1},[s("div",{class:"func_btn",onClick:o[11]||(o[11]=i=>e.clickRecommend("pdftoword"))},[ue,s("span",null,t(e.$t("web_3_pdf2word_title")),1)]),s("div",{class:"func_btn",onClick:o[12]||(o[12]=i=>e.clickRecommend("pdftoexcel"))},[he,s("span",null,t(e.$t("web_3_pdf2excel_title")),1)])],64)):e.pdfToOther.includes(e.routeName)?(d(),r(k,{key:2},[s("div",{class:"func_btn",onClick:o[13]||(o[13]=i=>e.clickRecommend("mergepdf"))},[me,s("span",null,t(e.$t("web_3_mergepdf_title")),1)]),s("div",{class:"func_btn",onClick:o[14]||(o[14]=i=>e.clickRecommend("extractpdfpages"))},[we,s("span",null,t(e.$t("web_3_splitpdf_title")),1)])],64)):h("",!0)]),p(R,{sid:e.sid,downloadType:e.downloadType,eid:e.eid,fileName:e.fileNameTxt,dialogVisible:e.dialogVisible,"onUpdate:dialogVisible":o[15]||(o[15]=i=>e.dialogVisible=i)},null,8,["sid","downloadType","eid","fileName","dialogVisible"]),p(O,{ref:"loginDialog"},null,512),p(P,{show:e.showDirDialog,docShow:!1,onConfirm:e.saveTo,hasNewDir:!1,dialogTitle:e.$t("web_421_merge_pop_save_to"),onCancel:o[16]||(o[16]=i=>e.showDirDialog=!1)},null,8,["show","onConfirm","dialogTitle"])])}const Ke=b(oe,[["render",ge],["__scopeId","data-v-0c587215"]]),$e=y({props:{seoArray:{type:Array,default:()=>[]}},data(){return{electron:!1,showSeoList:this.$props.seoArray}},created(){this.electron=E()}});const u=e=>(T("data-v-fdae0af5"),e=e(),L(),e),ke={class:"tools_desc"},ve={class:"tools_list"},ye={class:"tools_item"},be=u(()=>s("i",{class:"img_1"},null,-1)),Se={class:"tools_item"},De=u(()=>s("i",{class:"img_2"},null,-1)),Ne={class:"tools_item"},Ce=u(()=>s("i",{class:"img_3"},null,-1)),Te={class:"tools_list"},Le={class:"tools_item"},Ee=u(()=>s("i",{class:"img_4"},null,-1)),Fe={class:"tools_item"},Ie=u(()=>s("i",{class:"img_5"},null,-1)),Ve={class:"tools_item"},Re=u(()=>s("i",{class:"img_6"},null,-1));function Oe(e,o,n,a,l,S){return d(),r("div",ke,[s("ul",ve,[s("li",ye,[be,s("h3",null,t(e.showSeoList[0].title),1),s("p",null,t(e.showSeoList[0].desc),1)]),s("li",Se,[De,s("h3",null,t(e.showSeoList[1].title),1),s("p",null,t(e.showSeoList[1].desc),1)]),s("li",Ne,[Ce,s("h3",null,t(e.showSeoList[2].title),1),s("p",null,t(e.showSeoList[2].desc),1)])]),s("ul",Te,[s("li",Le,[Ee,s("h3",null,t(e.showSeoList[3].title),1),s("p",null,t(e.showSeoList[3].desc),1)]),s("li",Fe,[Ie,s("h3",null,t(e.showSeoList[4].title),1),s("p",null,t(e.showSeoList[4].desc),1)]),s("li",Ve,[Re,s("h3",null,t(e.showSeoList[5].title),1),s("p",null,t(e.showSeoList[5].desc),1)])])])}const je=b($e,[["render",Oe],["__scopeId","data-v-fdae0af5"]]);export{Ke as c,He as p,je as t};
