import{c as n}from"./libs-250e5f01.js";import{c as I}from"./config-8adb8f72.js";import{u}from"./user-store-a4f4557a.js";function S(e,t,i,o=1){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/query_doc_list",{params:{token:e,order_type:i,filter_esign:o}})}function P(e,t,i){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/query_dir/v2",{params:{token:e,order_type:i,show_advanced_dir:1}})}function f(e,t,i=0){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/query_tag_list",{params:{token:e,order_type:i}})}function A(e,t){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/query_storage",{params:{token:e}})}function g(e){let t="web";e.platform&&(t=e.platform);const i={type:e.type,token:e.token,size:e.size,title:e.title,id:e.id,platform:t},o=e.isDomestic?"SAPI_DOMESTIC":"SAPI_FOREIGN";return e.dirId&&e.dirId!==I.dirRoot&&(i.dir_id=e.dirId),n(o).post("/upload_resource",e.file,{params:i,cancelToken:e.cancel.token})}function E(e,t,i,o){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/update_relation_between_doc_and_tag",{params:{token:e,doc_id:i,tag_ids:o}})}function O(e,t,i){return n(e?"SAPI_DOMESTIC":"SAPI_FOREIGN").post("/add_view_file",[{file_name:`${i}.jdoc`,timestamp:Math.floor(Date.now()/1e3)}],{params:{token:t,device_id:"web_camscanner"}})}function D(e,t,i,o,r){const a=i?"SAPI_DOMESTIC":"SAPI_FOREIGN";let _;return e===1?_="/download_doc_pdf/v2":_="/download_doc_pdf",n(a).post(`${_}?token=${t}&title=${o}`,"download_data="+r)}function T(e,t,i,o,r){const a=i?"SAPI_DOMESTIC":"SAPI_FOREIGN";let _;return e===1?_="/download_doc_jpg/v2":_="/download_doc_jpg",n(a).post(`${_}?token=${t}&title=${o}`,"download_data="+r)}function G(e,t,i,o){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").post(`/update_dir?token=${e}&op=${i}`,JSON.stringify(o))}function C(e,t,i){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/query_doc_info",{params:{token:e,doc_id:i}})}function F(e,t,i){return n(e?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/download_file",{params:{token:t,file_name:`${i}.jpage`}})}function R(e,t,i,o){return n(e?"SAPI_DOMESTIC":"SAPI_FOREIGN").post("/update_doc",{check_title:1,token:t,doc_id:i,title:o})}function M(e,t,i,o,r){const a=e?"SAPI_DOMESTIC":"SAPI_FOREIGN",_={token:t,page_id:i};return o&&(_.title=o),r&&(_.note=r),n(a).post("/update_page",_,{params:{token:t}})}function N(e,t){return n(e?"SAPI_DOMESTIC":"SAPI_FOREIGN").post(`/query_ocr_doc_list?token=${t}`)}function m(e,t,i){return n(e?"SAPI_DOMESTIC":"SAPI_FOREIGN").post(`/query_ocr_list?token=${t}&doc_id=${i}`)}function y(e,t,i,o){const r=e?"SAPI_DOMESTIC":"SAPI_FOREIGN";return new Promise(a=>{n(r).get("/web/cloud_ocr",{params:{token:t,file_name:`${i}.jpage`,recent_langs:o.join(",")}}).then(_=>{a({body:_,fileName:i})}).catch(()=>{a({fileName:i})})})}function b(e,t,i,o){return n(e?"SAPI_DOMESTIC":"SAPI_FOREIGN").post(`/update_ocr?token=${t}&manual=1&file_name=${i}.jpage`,o)}function w(e,t){return n(e?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/query_signature_list",{params:{token:t}})}function h(e,t,i,o){return n(e?"SAPI_DOMESTIC":"SAPI_FOREIGN").post("/upload_signature",i,{params:{token:t,with_pick:o}})}function k(e,t,i){return n(e?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/delete_signature",{params:{token:t,sig_id:i}})}function q(e,t,i,o,r,a,_){const s=t?"SAPI_DOMESTIC":"SAPI_FOREIGN",c={token:i,doc_id:o,title:a,with_copy:_?1:0,page_id:r};return n(s).post("/update_jpg",e,{params:c})}function $(e,t,i,o,r,a){const _=e?"SAPI_DOMESTIC":"SAPI_FOREIGN",s={token:t,doc_id:i,op:r?"2":"1"};return o instanceof Array&&o.length>0?a.pages=o:typeof o=="string"&&(s.page_id=o),n(_).post("/move_page",a,{params:s})}function L(e,t,i){const o=e?"SAPI_DOMESTIC":"SAPI_FOREIGN",r={token:t};if(typeof i=="string")return r.page_id=i,n(o).get("/delete_page",{params:r});{const a={};return a.pages=i,n(o).post("/delete_page",a,{params:r})}}function v(e,t,i,o,r,a,_="web"){const s=t?"SAPI_DOMESTIC":"SAPI_FOREIGN",c={types:o,token:e,doc_id:i,platform:_,title:a};return n(s).post("/web/doc_add_picture",r,{params:c})}function J(e,t,i,o){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").post("/web/update_picture_rotate",o,{params:{token:e,doc_id:i}})}function j(e,t,i,o){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").post("/web/doc_picture_sort",o,{params:{token:e,doc_id:i}})}function x(e,t,i,o){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").post("/add_tag",{token:e,tag_id:i,title:o,author:"CamScanner(Web)"})}function z(e,t,i,o){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").post("/update_tag",{token:e,tag_id:i,title:o})}function B(e,t,i){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/delete_tag",{params:{token:e,tag_id:i}})}function W(e,t,i,o,r="web"){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/query_recent_doc_list",{params:{token:e,order_type:i,platform:r,num:o}})}function Q(e,t,i){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/delete_doc",{params:{token:e,doc_id:i}})}function U(e,t){let i="SAPI";t.file_id||t.file_id.includes("_pdf")?i=t.file_id.substring(t.file_id.length-2).toLocaleLowerCase()==="us"?"SAPI_JPG_FOREIGN":"SAPI_JPG_DOMESTIC":i=t.sid.substring(t.sid.length-2).toLocaleLowerCase()==="us"?"SAPI_JPG_FOREIGN":"SAPI_JPG_DOMESTIC";const o=t.token||t.encrypt_id?"/bigfile/file_state":"/bigfile/device/file_state";return n(i).post(o,e,{params:t})}function H(e,t){let i="SAPI";t.file_id||t.file_id.includes("_pdf")?i=t.file_id.substring(t.file_id.length-2).toLocaleLowerCase()==="us"?"SAPI_JPG_FOREIGN":"SAPI_JPG_DOMESTIC":i=t.sid.substring(t.sid.length-2).toLocaleLowerCase()==="us"?"SAPI_JPG_FOREIGN":"SAPI_JPG_DOMESTIC";const o=n(i),r=t.token||t.encrypt_id?"/bigfile/download_slice":"/bigfile/device/download_slice";return o({method:"post",url:r,data:e,params:{encrypt_id:t.encrypt_id,device_id:t.device_id,file_id:t.file_id,token:t.token,slice_id:t.slice_id,sid:t.sid,upload_time:t.upload_time,dir:t.dir},responseType:"arraybuffer"})}function K(e,t,i){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/web/combine_jdoc_progress",{params:{token:e,progress_id:i}})}function V(e,t,i,o,r,a){const _=t?"SAPI_DOMESTIC":"SAPI_FOREIGN",s={doc_list:i,title:o,progress_id:a};return r&&r!=="root"&&(s.to_dir_id=r),n(_).post("/combine_jdoc",s,{params:{token:e,with_copy:1}})}function X(e,t,i,o){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/multi_search",{params:{token:e,order_type:i,keywords:o}})}function Y(e,t,i,o,r,a="",_="web"){const s=t?"SAPI_DOMESTIC":"SAPI_FOREIGN",c={token:e,title:i,id:o,platform:_};return a&&(c.dir_id=a),n(s).post("/upload_pdf",r,{params:c})}function Z(e,t,i,o){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").get("/query_deleted_dir_list",{params:{token:e,start_num:o,order_type:i}})}function ee(e,t,i){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").post("/ignore_dir",i,{params:{token:e}})}function te(e,t,i){return n(t?"SAPI_DOMESTIC":"SAPI_FOREIGN").post("/revert_dir_list",i,{params:{token:e}})}function ie(e,t,i){const o=n("SAPI"),r=new Blob([e]);return o({method:"post",url:`/bigfile/upload_slice?slice_id=${t.slice_id}&upload_time=0&req_id=${t.req_id}&file_id=${t.file_id}&token=${t.token}&total=${t.total}`,data:r,cancelToken:i.token})}function oe(e,t,i){return n("SAPI").post("/bigfile/check_file",e,{params:t,cancelToken:i.token})}function ne(e,t,i){return n("SAPI").post("/web/add_multi_file","",{params:t,cancelToken:i.token})}function re(e){const t=e.sid.substring(e.sid.length-2).toLocaleLowerCase()==="cn";let i="SAPI_JPG_FOREIGN";return t&&(i="SAPI_JPG_DOMESTIC"),n(i).get("/query_share_account_info",{params:e})}function ae(e){return n("SAPI").get("/query_deeplink_from_share?platform=web&shorten_id="+e,{params:e})}function _e(e,t){const{isDomestic:i}=u();return n(i?"EDAPI_DOMESTIC":"EDAPI_FOREIGN").post("/image/image_handle/auto_cut",e,{params:t})}function se(e){if(e.border&&(e.border=e.border.replace(/\s*/g,"")),e.rotate){let o=Number(e.rotate);o=o%360,o<0&&(o+=360),e.rotate=o+""}const{isDomestic:t}=u();return n(t?"EDAPI_DOMESTIC":"EDAPI_FOREIGN").get("/image/image_handle/enhance",{params:e})}function ce(e){if(e.border&&(e.border=e.border.replace(/\s*/g,"")),e.rotate){let o=Number(e.rotate);o=o%360,o<0&&(o+=360),e.rotate=o+""}const{isDomestic:t}=u();return n(t?"EDAPI_DOMESTIC":"EDAPI_FOREIGN").get("/image/image_handle/enhance",{params:e,responseType:"blob"})}function ue(e,t){const{isDomestic:i}=u();return n(i?"EDAPI_DOMESTIC":"EDAPI_FOREIGN").post("/image/image_handle/mass_upload",t,{params:e})}function Ie(e){return n("SAPI").get("/esign/exist",{params:e})}export{v as A,J as B,j as C,S as D,P as E,f as F,W as G,Q as H,X as I,Y as J,K,V as L,ae as M,se as N,ue as O,_e as P,x as Q,z as R,B as S,Z as T,ee as U,te as V,re as W,U as X,H as Y,ne as a,g as b,oe as c,E as d,O as e,Ie as f,D as g,T as h,G as i,C as j,F as k,R as l,M as m,N as n,m as o,y as p,A as q,b as r,w as s,h as t,ie as u,k as v,q as w,ce as x,$ as y,L as z};
